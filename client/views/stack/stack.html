<template name="tmpl_stack_list">
	<div class="list">
		<div class="list-header js-list-header non-empty clearfix editable" attr="name">
			<h2 class="list-header-name hide-on-edit js-list-name current">To Do</h2>
			<p class="list-header-num-cards hide js-num-cards">2 cards</p>
			<span class="list-header-subscribe-icon icon-sm icon-follow js-list-subscribed hide"></span>
			<div class="edit edit-heavy clearfix">
				<textarea type="text" class="field single-line"></textarea>
			</div>
			<a href="#" class="list-header-menu-icon icon-sm icon-menu dark-hover js-open-list-menu"></a>
		</div>
		<div class="list-cards fancy-scrollbar clearfix js-list-cards js-sortable ui-sortable" style="max-height:{{list_cards_max_height}}px;">

		{{#each records}}
			{{> tmpl_card}}
		{{/each}}

		{{#if ready}}
			{{#unless allLoaded}}
				<a class="load-more" href="#">Load more</a>
			{{/unless}}
		{{else}}
			<div>{{> spinner}}</div>
		{{/if}}

		<div class="card-composer hide">
				<div class="list-card js-composer" style="padding-bottom: 0px;">
					<div class="list-card-labels clearfix js-list-card-composer-labels"></div>
					<textarea class="list-card-composer-textarea js-card-title"></textarea>
					<div class="list-card-members js-list-card-composer-members"></div>
				</div>
				<div class="cc-controls clearfix">
					<input type="submit" class="primary confirm js-add-card" value="Add">
					<a class="icon-lg icon-close dark-hover js-cancel" href="#"></a>
					<a class="cc-opt icon-lg icon-menu dark-hover js-cc-menu" href="#"></a>
				</div>
			</div>
		</div>
		<a class="open-card-composer js-open-card-composer" href="#">Add a card?</a>
	</div>
</template>

<template name="tmpl_stack">
	{{> tmpl_stack_list stacksHandle}}
</template>
